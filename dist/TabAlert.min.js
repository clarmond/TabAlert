window.TabAlert=function(){const t={},e={"bellhop bell":"🛎","speech balloon":"💬","police car light":"🚨","stop sign":"🛑","hour glass done":"⌛","alarm clock":"⏰",stopwatch:"⏱","timer clock":"⏲",star:"⭐",fire:"🔥","party popper":"🎉",bell:"🔔","envelope with arrow":"📩",locked:"🔒","exclamation mark":"❗","red circle":"🔴"};let i,o=1e3,n={image:"",type:""},r="",c=-1,l={image:"",type:""},a=window.top.document.title,s=!0;function p(){let t=window.top.document.querySelector('link[rel="shortcut icon"]');t&&(s?(t.setAttribute("type",l.type),t.setAttribute("href",l.image)):(t.setAttribute("type",n.type),t.setAttribute("href",n.image)))}function u(){window.top.document.title=s?a:r}function d(){s=!0,i=window.setInterval(()=>{s=!s,c-=1,c<-1&&(c=-1),0===c&&t.stop(),""!==n.image&&p(),""!==r&&u()},o)}return t.alert=function(t){a=window.top.document.title,l=function(){const t=window.top.document.querySelector('link[rel="shortcut icon"]');return t?{image:t.getAttribute("href"),type:t.getAttribute("type")}:(console.warn("favicon not found"),{image:"",type:""})}(),r=void 0!==t.message?t.message:"",void 0!==t.icon&&e[t.icon]?n=function(t){const e=document.createElement("canvas");e.setAttribute("width",32),e.setAttribute("height",32);const i=e.getContext("2d");return i.font="24px serif",i.textAlign="center",i.textBaseline="middle",i.fillText(t,e.width/2,e.height/2),{image:e.toDataURL("image/png"),type:"image/png"}}(e[t.icon]):(n.image="",n.type=""),c=void 0!==t.times?2*t.times:0,isNaN(t.delay)||(o=1e3),d()},t.stop=function(){window.clearInterval(i),s=!0,p(),u()},t};
